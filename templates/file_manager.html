<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Dropbox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/file_manager.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"
          integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/4.5.6/css/ionicons.min.css"
          integrity="sha512-0/rEDduZGrqo4riUlwqyuHDQzp2D1ZCgH/gFIfjMIL5az8so6ZiXyhf1Rg8i6xsjv+z/Ubc4tt1thLigEcu6Ug=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>
<body>
<div class="container flex-grow-1 light-style container-p-y">
    <header class="header">
        <h1>Welcome to Your File Manager, {{ user.username }}!</h1>
        <nav>
            <ul>
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="logout-button">Logout</button>
                </form>
            </ul>
        </nav>
    </header>
    <div class="container-m-nx container-m-ny bg-lightest mb-3">
        <ol class="breadcrumb text-big container-p-x py-3 m-0">
            <li class="breadcrumb-item">
                <a href="javascript:void(0)">{{ request.user }}</a>
            </li>
        </ol>
        <hr class="m-0"/>
        <div class="file-manager-actions container-p-x py-2">
            <div>
                <button type="button" class="btn btn-primary mr-2"><i class="ion ion-md-cloud-upload"></i>&nbsp; Upload
                </button>
                <button type="button" class="btn btn-secondary icon-btn mr-2" disabled><i
                        class="ion ion-md-cloud-download"></i></button>
                <div class="btn-group mr-2">
                    <button type="button" class="btn btn-default md-btn-flat dropdown-toggle px-2"
                            data-toggle="dropdown"><i class="ion ion-ios-settings"></i></button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="javascript:void(0)">Move</a>
                        <a class="dropdown-item" href="javascript:void(0)">Copy</a>
                        <a class="dropdown-item" href="javascript:void(0)">Remove</a>
                    </div>
                </div>
            </div>
            <div>
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-default icon-btn md-btn-flat active"> <input type="radio"
                                                                                       name="file-manager-view"
                                                                                       value="file-manager-col-view"
                                                                                       checked/> <span
                            class="ion ion-md-apps"></span> </label>
                    <label class="btn btn-default icon-btn md-btn-flat"> <input type="radio" name="file-manager-view"
                                                                                value="file-manager-row-view"/> <span
                            class="ion ion-md-menu"></span> </label>
                </div>
            </div>
        </div>
        <hr class="m-0"/>
    </div>
    <div class="file-manager-container file-manager-col-view">
        <div class="file-manager-row-header">
            <div class="file-item-name pb-2">Filename</div>
            <div class="file-item-changed pb-2">Changed</div>
        </div>

        <!-- Loop through user folders -->
        {% for folder in user_folders %}
            <div class="file-item">
                <div class="file-item-select-bg bg-primary"></div>
                <!-- Display folder icon -->
                <div class="file-item-icon far fa-folder text-secondary"></div>
                <!-- Display folder name -->
                <a href="javascript:void(0)" class="file-item-name">{{ folder.name }}</a>
                <!-- Display last changed date -->
                <div class="file-item-changed">{{ folder.updated_at|date:"m/d/Y" }}</div>
                <!-- Action buttons -->
                <div class="file-item-actions btn-group">
                    <button type="button"
                            class="btn btn-default btn-sm rounded-pill icon-btn borderless md-btn-flat hide-arrow dropdown-toggle"
                            data-toggle="dropdown"><i class="ion ion-ios-more"></i></button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="javascript:void(0)">Rename</a>
                        <a class="dropdown-item" href="javascript:void(0)">Move</a>
                        <a class="dropdown-item" href="javascript:void(0)">Copy</a>
                        <a class="dropdown-item" href="javascript:void(0)">Remove</a>
                    </div>
                </div>
            </div>
        {% endfor %}

        <!-- Loop through user files -->
        {% for file in user_files %}
            <div class="file-item">
                <div class="file-item-select-bg bg-primary"></div>
                <!-- Display file icon based on file type -->
                <div class="file-item-icon far fa-file text-secondary"></div>
                <!-- Display file name -->
                <a href="javascript:void(0)" class="file-item-name">{{ file.name }}</a>
                <!-- Display last changed date -->
                <div class="file-item-changed">{{ file.updated_at|date:"m/d/Y" }}</div>
                <!-- Action buttons -->
                <div class="file-item-actions btn-group">
                    <button type="button"
                            class="btn btn-default btn-sm rounded-pill icon-btn borderless md-btn-flat hide-arrow dropdown-toggle"
                            data-toggle="dropdown"><i class="ion ion-ios-more"></i></button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="javascript:void(0)">Rename</a>
                        <a class="dropdown-item" href="javascript:void(0)">Move</a>
                        <a class="dropdown-item" href="javascript:void(0)">Copy</a>
                        <a class="dropdown-item" href="javascript:void(0)">Remove</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">

</script>
</body>
</html>